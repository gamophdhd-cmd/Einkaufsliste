<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Einkaufsliste ğŸ›’</title>
<link rel="manifest" href="manifest.json">
<style>
Â  Â  body { font-family: Arial, sans-serif; background: #f7f7f7; margin:0; padding:0; transition: background 0.3s;}
Â  Â  header { background: #fff; padding: 1em; text-align: center; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
Â  Â  h1 { margin:0; font-size:2em; }
Â  Â  main { padding: 1em; }
Â  Â  button { background: #4CAF50; color: white; border: none; padding: 0.5em 1em; margin:0.3em; border-radius:8px; cursor:pointer; transition: transform 0.2s;}
Â  Â  button:hover { background: #45a049; transform: scale(1.05);}
Â  Â  .secondary { background:#2196F3; }
Â  Â  .secondary:hover { background:#1976D2; }
Â  Â  .danger { background:#f44336; }
Â  Â  .danger:hover { background:#d32f2f; }
Â  Â  .hidden { display:none; }
Â  Â  .category { background:white; padding:0.5em; margin:0.5em 0; border-radius:8px; box-shadow:0 1px 4px rgba(0,0,0,0.1);}
Â  Â  .category h3 { margin:0; font-size:1.2em; cursor:pointer;}
Â  Â  .item-list { margin-top:0.5em; }
Â  Â  .item { display:flex; justify-content: space-between; align-items:center; padding:0.3em 0; transition: background 0.3s;}
Â  Â  input[type="number"] { width:50px; padding:0.2em; }
Â  Â  ul { list-style:none; padding:0;}
Â  Â  li { padding:0.5em; background:white; margin:0.3em 0; border-radius:8px; display:flex; justify-content: space-between; align-items:center; transition: background 0.3s;}
Â  Â  li.bought { background:#d3f9d8; text-decoration: line-through;}
Â  Â  li.missing { background:#ffd6d6; }
Â  Â  li span { flex:1; }
Â  Â  footer { font-size:0.8em; text-align:center; padding:1em; color:#666; }
Â  Â  input[type="text"] { padding:0.5em; width:100%; margin-bottom:0.5em; border:1px solid #ccc; border-radius:8px; }
</style>
</head>
<body>

<header>
Â  Â  <h1>Einkaufsliste ğŸ›’</h1>
</header>

<main>
Â  Â  <section id="home">
Â  Â  Â  Â  <button onclick="showSection('create')">ğŸ“ Liste erstellen</button>
Â  Â  Â  Â  <button class="secondary" onclick="showSection('shop')">ğŸ›’ Einkaufen gehen</button>
Â  Â  </section>

Â  Â  <section id="create" class="hidden">
Â  Â  Â  Â  <input type="text" id="search" placeholder="ğŸ” Artikel suchen..." onkeyup="searchItems()">
Â  Â  Â  Â  <div id="categories"></div>
Â  Â  Â  Â  <h2>Aktuelle Einkaufsliste</h2>
Â  Â  Â  Â  <ul id="list"></ul>
Â  Â  Â  Â  <button class="danger" onclick="clearList()">ğŸ—‘ Liste lÃ¶schen</button>
Â  Â  Â  Â  <button onclick="showSection('home')">â¬… ZurÃ¼ck</button>
Â  Â  </section>

Â  Â  <section id="shop" class="hidden">
Â  Â  Â  Â  <h2>Deine Einkaufsliste</h2>
Â  Â  Â  Â  <ul id="shopList"></ul>
Â  Â  Â  Â  <button class="secondary" onclick="finishShopping()">âœ… Einkauf beenden</button>
Â  Â  Â  Â  <button onclick="showSection('home')">â¬… ZurÃ¼ck</button>
Â  Â  </section>

Â  Â  <section id="summary" class="hidden">
Â  Â  Â  Â  <h2>Endsumme ğŸ’°</h2>
Â  Â  Â  Â  <p id="totalPrice"></p>
Â  Â  Â  Â  <button onclick="showSection('home')">â¬… ZurÃ¼ck zur Startseite</button>
Â  Â  </section>
</main>

<footer>
Â  Â  Made by Nico
</footer>

<script>
const categories = {
Â  Â  "ğŸ¥¦ Obst & GemÃ¼se": ["Kartoffeln","Tomaten","Gurken","Ã„pfel","Bananen","Karotten","Zwiebeln","Salat","Paprika","Orangen","Weintrauben","Zucchini","Brokkoli","Erdbeeren","Brombeeren","Himbeeren"],
Â  Â  "ğŸ¥© Fleisch & Fisch": ["HÃ¤hnchenbrust","Rinderhack","Lachsfilet","Schweineschnitzel","WÃ¼rstchen"],
Â  Â  "ğŸ¥› Milchprodukte": ["Milch","Butter","KÃ¤se","Joghurt","Quark","Sahne","Eier"],
Â  Â  "ğŸ¥¤ GetrÃ¤nke": ["Mineralwasser","Cola","Orangensaft","Bier","Wein","Eistee","Kaffee","Tee"],
Â  Â  "ğŸ« Snacks & SÃ¼ÃŸigkeiten": ["Chips","Schokolade","GummibÃ¤rchen","Kekse","NÃ¼sse"],
Â  Â  "ğŸ Backwaren": ["Brot","BrÃ¶tchen","Croissant","Baguette"],
Â  Â  "â„ TiefkÃ¼hl": ["Pizza","Pommes","Eis","Spinat","FischstÃ¤bchen"],
Â  Â  "ğŸ§´ Drogerie": ["Zahnpasta","Shampoo","Duschgel","Seife","Toilettenpapier"]
};

let shoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];
let lastPrices = JSON.parse(localStorage.getItem('lastPrices')) || {};

function saveData(){
Â  Â  localStorage.setItem('shoppingList', JSON.stringify(shoppingList));
Â  Â  localStorage.setItem('lastPrices', JSON.stringify(lastPrices));
}

function showSection(id){
Â  Â  document.querySelectorAll('section').forEach(s=>s.classList.add('hidden'));
Â  Â  document.getElementById(id).classList.remove('hidden');
Â  Â  if(id==='create') renderList();
Â  Â  if(id==='shop') renderShopList();
}

function searchItems(){
Â  Â  const val = document.getElementById('search').value.toLowerCase();
Â  Â  document.querySelectorAll('.item').forEach(item=>{
Â  Â  Â  Â  item.style.display = item.textContent.toLowerCase().includes(val)? 'flex':'none';
Â  Â  });
}

function renderCategories(){
Â  Â  const container = document.getElementById('categories');
Â  Â  container.innerHTML='';
Â  Â  for(const [cat, items] of Object.entries(categories)){
Â  Â  Â  Â  const div=document.createElement('div'); div.className='category';
Â  Â  Â  Â  const h3=document.createElement('h3'); h3.textContent=cat;
Â  Â  Â  Â  const ul=document.createElement('div'); ul.className='item-list hidden';
Â  Â  Â  Â  items.forEach(item=>{
Â  Â  Â  Â  Â  Â  const row=document.createElement('div'); row.className='item';
Â  Â  Â  Â  Â  Â  const priceInfo = lastPrices[item]? ` (~${lastPrices[item]} â‚¬)` : '';
Â  Â  Â  Â  Â  Â  row.innerHTML=`<span>${item}${priceInfo}</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" min="1" value="1">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="addToList('${item}',this.previousElementSibling.value)">â•</button>`;
Â  Â  Â  Â  Â  Â  ul.appendChild(row);
Â  Â  Â  Â  });
Â  Â  Â  Â  h3.onclick=()=>ul.classList.toggle('hidden');
Â  Â  Â  Â  div.appendChild(h3); div.appendChild(ul); container.appendChild(div);
Â  Â  }
}

function addToList(name, quantity){
Â  Â  shoppingList.push({name, quantity:parseInt(quantity), price:lastPrices[name]||null, bought:false});
Â  Â  saveData();
Â  Â  renderList();
}

function renderList(){
Â  Â  const ul=document.getElementById('list'); ul.innerHTML='';
Â  Â  shoppingList.forEach((item,i)=>{
Â  Â  Â  Â  const li=document.createElement('li');
Â  Â  Â  Â  li.innerHTML=`<span>${item.quantity}Ã— ${item.name}${item.price!==null? ' - '+item.price.toFixed(2)+' â‚¬':''}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="removeFromList(${i})">âŒ</button>`;
Â  Â  Â  Â  ul.appendChild(li);
Â  Â  });
}

function removeFromList(index){
Â  Â  shoppingList.splice(index,1);
Â  Â  saveData();
Â  Â  renderList();
}

function renderShopList(){
Â  Â  const ul=document.getElementById('shopList'); ul.innerHTML='';
Â  Â  shoppingList.forEach((item,i)=>{
Â  Â  Â  Â  const li=document.createElement('li');
Â  Â  Â  Â  li.className=item.bought?'bought':'';
Â  Â  Â  Â  li.innerHTML=`<span>${item.quantity}Ã— ${item.name}${item.price!==null? ' - '+item.price.toFixed(2)+' â‚¬':''}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button onclick="markBought(${i})">âœ…</button>`;
Â  Â  Â  Â  ul.appendChild(li);
Â  Â  });
}

function markBought(index){
Â  Â  const price=parseFloat(prompt(`Preis fÃ¼r ${shoppingList[index].name} (â‚¬) eingeben:`)?.replace(',','.'));
Â  Â  if(!isNaN(price)){
Â  Â  Â  Â  shoppingList[index].price=price;
Â  Â  Â  Â  shoppingList[index].bought=true;
Â  Â  Â  Â  lastPrices[shoppingList[index